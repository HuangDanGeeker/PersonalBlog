<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>个人主页</title>

<!-- CSS -->
<link rel="stylesheet"
	href="http://fonts.googleapis.com/css?family=Roboto:400,100,300,500">
<link rel="stylesheet"
	href="../styles/login_assets/bootstrap/css/bootstrap.min.css">
<link rel="stylesheet"
	href="../styles/login_assets/font-awesome/css/font-awesome.min.css">
<link rel="stylesheet" href="../styles/login_assets/css/form-elements.css">
<link rel="stylesheet" href="../styles/login_assets/css/style.css">

<!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
<!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
        <![endif]-->

<!-- Favicon and touch icons -->
<link rel="shortcut icon" href="login_assets/ico/favicon.png">
<link rel="apple-touch-icon-precomposed" sizes="144x144"
	href="login_assets/ico/apple-touch-icon-144-precomposed.png">
<link rel="apple-touch-icon-precomposed" sizes="114x114"
	href="login_assets/ico/apple-touch-icon-114-precomposed.png">
<link rel="apple-touch-icon-precomposed" sizes="72x72"
	href="login_assets/ico/apple-touch-icon-72-precomposed.png">
<link rel="apple-touch-icon-precomposed"
	href="login_assets/ico/apple-touch-icon-57-precomposed.png">

</head>

<body>

	<!-- Top content -->
	<div class="top-content">

		<div class="inner-bg">
			<div class="container">
				<div class="row">
					<div class="col-sm-8 col-sm-offset-2 text">
						<h1>
							<strong>个人主页</strong>登录
						</h1>
						<div class="description"></div>
					</div>
				</div>
				<div class="row">
					<div class="col-sm-6 col-sm-offset-3 form-box">
						<div class="form-top">
							<div class="form-top-left">
								<p>请输入您的手机号码，用以获取验证码登录</p>
							</div>

						</div>
						<div class="form-bottom">
							<form role="form" action="" method="post" class="login-form">
								<div class="form-group">
									<label class="sr-only" for="form-username">telphone</label> <input
										type="text" name="telnumber" placeholder="电话号码"
										class="form-username form-control" id="form-username">
								</div>
								<div class="form-group">
									<label class="sr-only" for="form-password">验证码</label> <input
										type="yzm" name="yzm" placeholder="请输入验证码" class=""
										id="form-password">
									<button id="hmac"
										style="width:200px;height:35px;line-height: 20px;"
										type="button">发送验证码</button>
								</div>
								<button type="submit" class="btn">确认</button>
							</form>
						</div>
					</div>
				</div>

			</div>
		</div>

	</div>


	<!-- Javascript -->
	<script src="login_assets/js/jquery-1.11.1.min.js"></script>
	<script src="login_assets/bootstrap/js/bootstrap.min.js"></script>
	<script src="login_assets/js/jquery.backstretch.min.js"></script>
	<script src="login_assets/js/scripts.js"></script>
	<script src="login_assets/js/layer-v3.1.1/layer-v3.1.1/layer/layer.js"></script>

	<!--[if lt IE 10]>
            <script src="login_assets/js/placeholder.js"></script>
        <![endif]-->

	<script type="text/javascript">
		$('#hmac')
				.on(
						'click',
						function() {
							if (!/^(13[0-9]|15[012356789]|17[0-9]|18[0-9]|14[57])[0-9]{8}|(170[059])[0-9]{6}$/i
									.test($('#form-username').val())) {
								layer.msg("请输入正确的手机号");
								return;
							}
							$	.ajax({
										type : "get",//使用post方法访问后台    
										dataType : "json",//返回json格式的数据    
										url : "yzm.jsp",//要访问的后台地址    
										contentType : "application/json;charset=utf-8",
										data : {
											username : $('#form-username').val()
										},//要发送的数据    
										success : function(data) {
											alert("sucse");
										},
										error : function(XMLResponse) {
											alert(XMLResponse.responseText)
										}
									});
							var codeflag = 60;
							var phoneflag = 1;
							if (phoneflag == 1 && codeflag == 60) {
								var timeflag = setInterval(
										function() {
											codeflag--;
											if (codeflag > 0) {
												$('#hmac')	.html('重新发送'	+ codeflag	+ 's');
												$('#hmac')
														.css(
																{
																	'color' : '#99897A',
																	'border' : '1px solid #99897A'
																});
												$('#hmac').attr('disabled',
														'disabled');
											} else {
												codeflag = 60;
												$('#hmac').html('获取验证码');
												$('#hmac').css({
													'color' : '#68371D'
												});
												$('#hmac').removeAttr(
														'disabled');
												clearInterval(timeflag);
											}
										}, 1000);

							}
						})
	</script>
</body>

</html>